{
"version":3,
"file":"svg-anim.min.js",
"lineCount":27,
"mappings":"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",
"sources":["src/garbagePool.js"," [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterator] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:util/polyfill] "," [synthetic:es6/array/find] "," [synthetic:util/findinternal] ","src/bitmap.js","src/resourceManager.js","src/shape.js","src/text.js","src/commands.js","src/movieclip.js","src/component.js","src/depack.js"],
"sourcesContent":["// class GarbagePool {\n\n// }\n/**\n * @constructor\n */\nvar GarbagePool = function () {\n  this.EMPTY_POOL = []      //if empty remove\n  this.REF_POOL = []        //if no reference remove\n}\n\nGarbagePool.prototype.addEmpty = function (el) {\n  this.EMPTY_POOL.push(el)\n}\n\n/**\n * manages adding of references\n *\n */\nGarbagePool.prototype.addRef = function (el, refs) {\n  var i,\n    j\n\n  for (i = 0; i < this.REF_POOL.length; i += 1) {\n    if (this.REF_POOL[i].el.id == el.id) {\n      for (j = 0; j < refs.length; j += 1) {\n        this.REF_POOL[i].refs.push(refs[j])\n      }\n      return\n    }\n  }\n\n  this.REF_POOL.push({ el: el, refs: refs })\n}\n\nGarbagePool.prototype.purge = function () {\n  this.purgeEmptyPool()\n  this.purgeRefPool()\n}\n\n/**\n * check if empty and remove\n *\n */\nGarbagePool.prototype.purgeEmptyPool = function () {\n  var i,\n    el\n\n  for (i = this.EMPTY_POOL.length - 1; i > -1; i -= 1) {\n    el = this.EMPTY_POOL[i]\n    if (el.children().length === 0) {\n      el.remove()\n      this.EMPTY_POOL.splice(i, 1)\n    }\n  }\n}\n\n/**\n * check if all references are removed then remove\n *\n */\nGarbagePool.prototype.purgeRefPool = function () {\n  var i,\n    j,\n    k,\n    item\n\n  for (i = this.REF_POOL.length - 1; i > -1; i -= 1) {\n    item = this.REF_POOL[i]\n    k = 0\n\n    for (j = 0; j < item.refs.length; j += 1) {\n      if (item.refs[j].removed) {\n        k += 1\n      }\n\n      if (k == item.refs.length) {\n        item.el.remove()\n        this.REF_POOL.splice(i, 1)\n      }\n    }\n  }\n}\n\nvar GP = new GarbagePool()\n\nexport { GarbagePool }\nexport default GP","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n * @param {?} target\n * @param {string} property\n * @param {?} descriptor\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      descriptor = /** @type {!ObjectPropertyDescriptor} */ (descriptor);\n      // NOTE: This is currently never called with a descriptor outside\n      // the control of the compiler.  If we ever decide to polyfill either\n      // Object.defineProperty or Reflect.defineProperty for ES3, we should\n      // explicitly check for `get` or `set` on the descriptor and throw a\n      // TypeError, since it's impossible to properly polyfill it.\n      if (target == Array.prototype || target == Object.prototype) return;\n      target[property] = descriptor.value;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n */\n'require base';\n\n\n/**\n * @param {!Object} maybeGlobal\n * @return {!Object} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n */\n$jscomp.getGlobal = function(maybeGlobal) {\n  // This logic can be simplified to be made more optimizable.\n  return (typeof window != 'undefined' && window === maybeGlobal) ?\n      maybeGlobal :\n      (typeof global != 'undefined' && global != null) ?\n      /** @type {!Object} */ (global) :\n      maybeGlobal;\n};\n\n\n// TODO(sdh): This should be typed as \"the global object\" now that the type\n// of \"Global\" has landed in the type system.\n/**\n * The global object. For browsers we could just use `this` but in Node that\n * doesn't work.\n * @const {?}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n */\n'require util/defineproperty';\n'require util/global';\n\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @suppress {reportUnknownTypes}\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) obj[key] = {};  // Might want to be defineProperty.\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/findinternal';\n'require util/polyfill';\n\n$jscomp.polyfill('Array.prototype.find', function(orig) {\n  if (orig) return orig;\n\n  /**\n   * Finds and returns an element that satisfies the given predicate.\n   *\n   * @this {!IArrayLike<VALUE>}\n   * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *}\n   *     callback\n   * @param {THIS=} opt_thisArg\n   * @return {VALUE|undefined} The found value, or undefined.\n   * @template VALUE, THIS\n   * @suppress {reportUnknownTypes}\n   */\n  var polyfill = function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n\n  return polyfill;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility for Array methods that find elements.\n */\n'require base';\n\n// TODO(sdh): would be nice to template on the ARRAY type as well,\n// so that the third arg type of callback can be refined to be\n// exactly the same as the array type, but then there's no way to\n// enforce that it must, in fact, be an array.\n/**\n * Internal implementation of find.\n * @param {!IArrayLike<VALUE>} array\n * @param {function(this: THIS, VALUE, number, !IArrayLike<VALUE>): *} callback\n * @param {THIS} thisArg\n * @return {{i: number, v: (VALUE|undefined)}}\n * @template THIS, VALUE\n * @suppress {reportUnknownTypes}\n */\n$jscomp.findInternal = function(array, callback, thisArg) {\n  if (array instanceof String) {\n    array = /** @type {!IArrayLike} */ (String(array));\n  }\n  var len = array.length;\n  for (var i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) return {i: i, v: value};\n  }\n  return {i: -1, v: void 0};\n};\n","/**\n * @constructor\n */\nvar Bitmap = function (parentMC, resourceManager, charId, ObjectId, placeAfter, transform) {\n  var instance = this,\n    parentEl = parentMC.el\n\n  this.create = function () {\n    instance.el = parentMC.el.g()\n    instance.id = ObjectId\n    instance.el.attr({ 'class': 'shape', 'token': instance.id })\n\n    instance.children = []\n    instance.isMask = false\n    instance.isMasked = false\n    instance.mask = null\n    instance.maskTill = null\n\n    for(var b =0;b<resourceManager.m_data.DOMDocument.Bitmaps.length;b++)\n    {\n      if(resourceManager.m_data.DOMDocument.Bitmaps[b].charid == charId)\n      {\n        var path = resourceManager.m_data.DOMDocument.Bitmaps[b].bitmapPath\n        var bitmap = parentMC.el.paper.image(path)\n        instance.el.add(bitmap)\n      }\n    }\n\n    const transformArray = transform.split(\",\")\n    const transformMat = new window.Snap.Matrix(...transformArray)\n    instance.el.transform(transformMat)\n\n    if (placeAfter && parseInt(placeAfter, 10) !== 0) {\n      const afterMC = parentMC.getChildById(parseInt(placeAfter, 10))\n\n      if (afterMC.isMasked) {  //if masked add outside mask group\n        afterMC.el.parent().before(instance.el)\n      } else {\n        afterMC.el.before(instance.el)\n      }\n    } else {\n      parentEl.add(instance.el) //TODO:: handle after\n    }\n  }\n\n  this.create()\n}\n\nexport default Bitmap","export default class ResourceManager {\n  /**\n   * @param {_snapsvgAnimator.Data} data The data type.\n   * @param {DOMDocument} data.DOMDocument The DOMDocument.\n   */\n  constructor(data) {\n    var id\n    this.m_shapes = []\n    this.m_movieClips = []\n    this.m_bitmaps = []\n    this.m_text = []\n    this.m_data = data\n\n    //Parse shapes and movieClips\n    for (let shapeIndex = 0; shapeIndex < this.m_data.DOMDocument.Shape.length; shapeIndex++)\n    {\n      id = this.m_data.DOMDocument.Shape[shapeIndex].charid\n      var shapeData = this.m_data.DOMDocument.Shape[shapeIndex]\n      this.m_shapes[id] = shapeData\n    }\n\n    for (let bitmapIndex=0; bitmapIndex < this.m_data.DOMDocument.Bitmaps.length; bitmapIndex++)\n    {\n      id = this.m_data.DOMDocument.Bitmaps[bitmapIndex].charid\n      var bitmapData = this.m_data.DOMDocument.Bitmaps[bitmapIndex]\n      this.m_bitmaps[id] = bitmapData\n    }\n\n    for(var textIndex =0; textIndex < this.m_data.DOMDocument.Text.length; textIndex++)\n    {\n      id = this.m_data.DOMDocument.Text[textIndex].charid\n      var textData = this.m_data.DOMDocument.Text[textIndex]\n      this.m_text[id] = textData\n    }\n\n    if(this.m_data.DOMDocument.Timeline !== undefined)\n    {\n      for(var movieClipIndex =0; movieClipIndex < this.m_data.DOMDocument.Timeline.length - 1; movieClipIndex++)\n      {\n        id = this.m_data.DOMDocument.Timeline[movieClipIndex].charid\n        var movieClipData = this.m_data.DOMDocument.Timeline[movieClipIndex]\n        this.m_movieClips[id] = movieClipData\n      }\n    }\n  }\n  getText(id) {\n    return this.m_text[id]\n  }\n  getBitmap(id) {\n    return this.m_bitmaps[id]\n  }\n  getMovieClip(id) {\n    return this.m_movieClips[id]\n  }\n  getShape(id) {\n    return this.m_shapes[id]\n  }\n}\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Data} _snapsvgAnimator.Data\n */","import MovieClip from './movieclip' // eslint-disable-line\nimport ResourceManager from './resourceManager' // eslint-disable-line\n\nexport default class Shape {\n  /**\n   * @param {!MovieClip} parentMC\n   * @param {!ResourceManager} resourceManager\n   * @param {string} charId\n   * @param {string} ObjectId\n   * @param {string} placeAfter\n   * @param {string} transform\n   */\n  constructor(parentMC, resourceManager, charId, ObjectId, placeAfter, transform) {\n    const parentEl = parentMC.el\n    this.parentEl = parentEl\n\n    this.el = parentMC.el.g()\n    this.id = ObjectId\n    this.el.attr({ 'class': 'shape', 'token': this.id })\n\n    this.children = []\n    this.isMask = false\n    this.isMasked = false\n    this.mask = null\n    this.maskTill = null\n\n    this.resourceManager = resourceManager\n\n    for (let j = 0; j < resourceManager.m_data.DOMDocument.Shape.length; j++)\n    {\n      if (resourceManager.m_data.DOMDocument.Shape[j].charid == charId)\n      {\n        for (let k = 0; k < resourceManager.m_data.DOMDocument.Shape[j].path.length; k++)\n        {\n          this.addPath(j, k)\n        }\n      }\n    }\n\n    const transformArray = transform.split(\",\")\n    const transformMat = new window.Snap.Matrix(...transformArray)\n    this.el.transform(transformMat)\n\n    if (placeAfter && parseInt(placeAfter, 10) !== 0) {\n      const afterMC = parentMC.getChildById(parseInt(placeAfter, 10))\n\n      if (afterMC.isMasked) {  //if masked add outside mask group\n        afterMC.el.parent().before(this.el)\n      } else {\n        afterMC.el.before(this.el)\n      }\n    } else {\n      parentEl.add(this.el) //TODO:: handle after\n    }\n  }\n  /**\n   * @param {number} j\n   * @param {number} k\n   */\n  addPath(j, k) {\n    const shape = this.el.path()\n    const resourcePath = this.resourceManager.m_data.DOMDocument.Shape[j].path[k]\n    const path = resourcePath.d\n    shape.attr({\n      'fill': 'transparent',\n      'd': path,\n    })\n\n    if(resourcePath.pathType == \"Fill\") {\n      this.addFill(shape, resourcePath)\n    } else if (resourcePath.pathType == \"Stroke\") {\n      addStroke(shape, resourcePath)\n    }\n  }\n  /**\n   * @param {_snapsvgAnimator.ResourceImage} resourceImg\n   */\n  getFillImage(resourceImg) {\n    const patternArray = resourceImg.patternTransform.split(\",\")\n    const mat = new window.Snap.Matrix(...patternArray)\n\n    const src = resourceImg.bitmapPath\n\n    const exists = this.parentEl.paper.select('defs pattern image')\n\n    let fillImage\n    if (exists) {\n      if (exists.attr('href') == src) {\t//check if image href matches as well as other props\n        fillImage = exists.parent()\n      } else {\n        fillImage = this.newPattern(src, resourceImg, mat)\n      }\n    } else {\n      fillImage = this.newPattern(src, resourceImg, mat)\n    }\n\n    return fillImage\n  }\n  /**\n   * @param {_snapsvgAnimator.Gradient} grad\n   * @param {string} type\n   * @param {_snap.Paper} [shape]\n   */\n  getFillGradient(grad, type, shape) {\n    let gradientString\n    if (type == 'linear') {\n      const _x = parseFloat(grad.x1)\n      const _y = parseFloat(grad.y1)\n      const _x2 = parseFloat(grad.x2)\n      const _y2 = parseFloat(grad.y2)\n      gradientString = \"L(\"\n      gradientString += _x + \", \"\n      gradientString += _y + \", \"\n      gradientString += _x2 + \", \"\n      gradientString += _y2 + \")\"\n    } else {\n      const _x = (shape.getBBox().x + shape.getBBox().width / 2) + grad.cx / 10\n      const _y = (shape.getBBox().y + shape.getBBox().height / 2) + grad.cy / 10\n      const _fx = (shape.getBBox().x + shape.getBBox().width / 2) + parseFloat(grad.fx)\n      const _fy = (shape.getBBox().y + shape.getBBox().height / 2) + parseFloat(grad.fy)\n      gradientString = \"R(\"\n      gradientString += _x + \", \"\n      gradientString += _y + \", \"\n      gradientString += grad.r + \", \"\n      gradientString += _fx + \", \"\n      gradientString += _fy + \")\"\n    }\n\n    for (let i = 0; i < grad.stop.length; i += 1) {\n      const { r, g, b } = hexToRgb(grad.stop[i].stopColor)\n      gradientString += 'rgba(' + r + ',' + g + ',' + b + ',' + grad.stop[i].stopOpacity + ')'\n      gradientString += \":\"\n      gradientString += grad.stop[i].offset\n      if (i !== grad.stop.length-1) {\n        gradientString += \"-\"\n      }\n    }\n\n    const gradientFill = this.parentEl.paper.gradient(gradientString)\n    return gradientFill\n  }\n  /**\n   * @param {string} src\n   * @param {_snapsvgAnimator.ResourceImage} resourceImg\n   * @param {_snap.Matrix} mat\n   */\n  newPattern(src, resourceImg, mat) {\n    const image = this.el.image(src)\n    const pattern = image.pattern(0, 0, resourceImg.width, resourceImg.height)\n    pattern.attr({ 'x': mat.e, 'y': mat.f })\n\n    return pattern\n  }\n  /**\n   * @param {_snap.Paper} shape\n   * @param {_snapsvgAnimator.ResourcePath} resourcePath\n   */\n  addFill(shape, resourcePath) {\n    var fillColor,\n      fillImage,\n      fillGradient,\n      img,\n      grad\n\n    if (resourcePath.color) {\n      fillColor = getFillColor(resourcePath)\n      shape.attr({ 'fill': fillColor })\n    }\n    if (resourcePath.image) {\n      img = resourcePath.image\n      fillImage = this.getFillImage(img)\n      shape.attr({ 'fill': fillImage })\n    }\n    if (resourcePath.linearGradient) {\n      grad = resourcePath.linearGradient\n      fillGradient = this.getFillGradient(grad, 'linear')\n      shape.attr({ 'fill': fillGradient })\n    }\n    if (resourcePath.radialGradient) {\n      grad = resourcePath.radialGradient\n      fillGradient = this.getFillGradient(grad, 'radial', shape)\n      shape.attr({ 'fill': fillGradient })\n    }\n  }\n}\n\n/**\n * @param {_snap.Paper} shape\n * @param {!Array<_snapsvgAnimator.ResourcePath>} shape.path The paths.\n * @param {_snapsvgAnimator.ResourcePath} resourcePath\n */\nfunction addStroke(shape, resourcePath) {\n  if (resourcePath.color) {\n    const clr = resourcePath.color\n\n    const r = parseInt(clr.substring(1, 3), 16)\n    const g = parseInt(clr.substring(3, 5), 16)\n    const b = parseInt(clr.substring(5, 7), 16)\n    const a = resourcePath.colorOpacity\n\n    const colStr = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n\n    shape.attr({ 'stroke': colStr, 'strokeWidth': resourcePath.strokeWidth })\n  }\n}\n\n/**\n * @param {_snapsvgAnimator.ResourcePath} resourcePath\n */\nfunction getFillColor(resourcePath) {\n  const clr = resourcePath.color\n  const r = parseInt(clr.substring(1, 3), 16)\n  const g = parseInt(clr.substring(3, 5), 16)\n  const b = parseInt(clr.substring(5, 7), 16)\n  const a = resourcePath.colorOpacity\n  const colStr = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n\n  return colStr\n}\n\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16),\n  } : null\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').ResourcePath} _snapsvgAnimator.ResourcePath\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Shape} _snapsvgAnimator.Shape\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').ResourceImage} _snapsvgAnimator.ResourceImage\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Gradient} _snapsvgAnimator.Gradient\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Snap} _snapsvgAnimator.Snap\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Paper} _snap.Paper\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Matrix} _snap.Matrix\n */","export default class Text {\n  constructor(parentMC, resourceManager, charId, ObjectId, placeAfter, transform, bounds) {\n    this.parentEl = parentMC.el\n    this.bounds = bounds\n\n    this.el = this.parentEl.g()\n    this.id = ObjectId\n    this.el.attr({ 'class': 'text', 'token': this.id })\n\n    this.children = []\n    this.isMask = false\n    this.isMasked = false\n    this.mask = null\n    this.maskTill = null\n\n    for (let j = 0; j < resourceManager.m_data.DOMDocument.Text.length; j++)\n    {\n      if (resourceManager.m_data.DOMDocument.Text[j].charid == charId)\n      {\n        this.addText(resourceManager.m_data.DOMDocument.Text[j])\n      }\n    }\n\n    const transformArray = transform.split(\",\")\n    const transformMat = new window.Snap.Matrix(...transformArray)\n    this.el.transform(transformMat)\n\n    if (placeAfter && parseInt(placeAfter, 10) !== 0) {\n      const afterMC = parentMC.getChildById(parseInt(placeAfter, 10))\n\n      if (afterMC.isMasked) {  //if masked add outside mask group\n        afterMC.el.parent().before(this.el)\n      } else {\n        afterMC.el.before(this.el)\n      }\n    } else {\n      this.parentEl.add(this.el)\n    }\n  }\n  addText(data) {\n    var text,\n      textBox,\n      textX,\n      textY,\n      lineMode,\n      fontSize,\n      fontName,\n      fontColor,\n      textAlign,\n      textAnchor,\n      textBaseline,\n      textBounds,\n      textStyles\n\n    textBox = this.el.g()\n\n    if (this.bounds) {\n      textBounds = this.bounds.split(',')\n    } else {\n      textBounds = [0, 0, 200, 100]\n    }\n\n    lineMode = data.behaviour.lineMode\n    textAlign = data.paras[0].alignment\n    textBaseline = lineMode == 'single' ? 'central' : 'auto'\n    fontSize = data.paras[0].textRun[0].style.fontSize\n    fontName = data.paras[0].textRun[0].style.fontName\n    fontColor = data.paras[0].textRun[0].style.fontColor\n    const letterSpacing = data.paras[0].textRun[0].style.letterSpacing\n\n    if (textAlign == 'left') {\n      textAnchor = 'start'\n    } else if (textAlign == 'center') {\n      textAnchor = 'middle'\n    } else if (textAlign == 'right') {\n      textAnchor = 'end'\n    }\n\n    textStyles = {\n      'text-anchor': textAnchor,\n      'dominant-baseline': textBaseline,\n      'font-family': fontName,\n      'font-size': fontSize,\n      'letter-spacing': letterSpacing,\n      'fill': fontColor,\n    }\n\n    //rect\n    if (data.behaviour.isBorderDrawn !== \"false\") {\n      const textRect = textBox.rect(textBounds[0], textBounds[1], textBounds[2], textBounds[3])\n      textRect.attr({\n        stroke: 'black',\n        fill: 'transparent',\n      })\n    }\n\n    //make text and y\n    if (lineMode == 'single') {\n      text = textBox.text(0, 0, data.txt)\n      textY = parseFloat(textBounds[1]) + (parseFloat(textBounds[3]) / 2)\n    } else {\n      text = this.multiline(textBox, data, textBounds, textStyles)\n      textY = parseFloat(textBounds[1]) - (parseFloat(data.paras[0].linespacing) * 2)\n    }\n\n    //x\n    if (textAlign == 'left') {\n      textX = parseFloat(textBounds[0])\n    } else {\n      textX = parseFloat(textBounds[0]) + (parseFloat(textBounds[2]) / 2)\n    }\n\n    text.attr(textStyles)\n    text.transform('translate(' + textX + ',' + textY + ')')\n  }\n  multiline(textBox, data, textBounds, textStyles) {\n    var spans = [],\n      chars = '',\n      substr,\n      tempTxt,\n      boundsWidth = parseFloat(textBounds[2]),\n      sp,\n      bbox,\n      i = 0\n\n    //break into spans\n    while (i > -1) {\n      chars += data.txt.charAt(i)\n      tempTxt = textBox.text(0, 0, chars)\n      tempTxt.attr(textStyles)\n\n      bbox = tempTxt.getBBox()\n\n      const newIndex = chars.lastIndexOf(' ')\n\n      if (bbox.w > boundsWidth) {\n        substr = chars.slice(0, newIndex)\n        spans.push(substr)\n        i = i - (chars.length - substr.length) + 2\n        chars = ''\n      } else {\n        i += 1\n      }\n\n      if (i >= data.txt.length) {\n        substr = chars.slice(0, newIndex)\n        spans.push(substr)\n        i = -1\n      }\n\n      tempTxt.remove()\n    }\n\n    const text = textBox.text(0, 0, spans)\n    sp = text.selectAll('tspan')\n    sp.attr({\n      'x': 0,\n      'dy': bbox.h + parseFloat(data.paras[0].linespacing),\n    })\n\n    return text\n  }\n}","import Bitmap from './bitmap'\nimport GP from './garbagePool'\nimport MovieClip from './movieclip'\nimport Shape from './shape'\nimport Text from './text'\nimport ResourceManager from './resourceManager'\n\nconst CMD = {}\n\n//PlaceObjectCommand Class\n/**\n * @constructor\n */\nCMD.PlaceObjectCommand = function(charID, objectID, name, placeAfter, transform, bounds)\n{\n  this.m_charID = charID\n  this.m_objectID = objectID\n  this.m_name = name\n  this.m_placeAfter = placeAfter\n  this.m_transform = transform\n  this.m_bounds = bounds\n}\n\n//Execute function for PlaceObjectCommand\n/**\n * @param {!MovieClip} parentMC\n * @param {!ResourceManager} resourceManager\n */\nCMD.PlaceObjectCommand.prototype.execute = function(parentMC, resourceManager)\n{\n  const shape = resourceManager.getShape(this.m_charID)\n  const bitmap = resourceManager.getBitmap(this.m_charID)\n  const text = resourceManager.getText(this.m_charID)\n\n  if (shape !== null && shape !== undefined)\n  {\n    const shapeObject = new Shape(parentMC, resourceManager, this.m_charID, this.m_objectID, this.m_placeAfter, this.m_transform)\n    parentMC.insertAtIndex(shapeObject, this.m_placeAfter)\n  } else if (bitmap !== null && bitmap !== undefined) {\n    const bmpObject = new Bitmap(parentMC, resourceManager, this.m_charID, this.m_objectID, this.m_placeAfter, this.m_transform)\n    parentMC.insertAtIndex(bmpObject, this.m_placeAfter)\n  } else if (text !== null && text !== undefined) {\n    const textObject = new Text(parentMC, resourceManager, this.m_charID, this.m_objectID, this.m_placeAfter, this.m_transform, this.m_bounds)\n    parentMC.insertAtIndex(textObject, this.m_placeAfter)\n  } else {\n    const movieclipTimeline = resourceManager.getMovieClip(this.m_charID)\n    if (movieclipTimeline) {\n      const movieclip = new MovieClip(movieclipTimeline, parentMC, resourceManager, this.m_objectID, this.m_name, this.m_transform)\n      parentMC.insertAtIndex(movieclip, this.m_placeAfter)\n      movieclip.play()\n    }\n  }\n}\n\n//MoveObjectCommand Class\n/**\n * @constructor\n */\nCMD.MoveObjectCommand = function(objectID, transform)\n{\n  this.m_objectID = objectID\n  this.m_transform = transform\n}\n\n//Execute function for PlaceObjectCommand\nCMD.MoveObjectCommand.prototype.execute = function(parentMC)\n{\n  const transformArray = this.m_transform.split(',')\n  const transformMat = new window.Snap.Matrix(...transformArray)\n\n  const child = parentMC.getChildById(this.m_objectID)\n  child.matrix = transformMat\n  child.el.transform(transformMat)\n}\n\n//UpdateObjectCommand Class\n/**\n * @constructor\n */\nCMD.UpdateObjectCommand = function(objectID, placeAfter)\n{\n  this.m_objectID = objectID\n  this.m_placeAfter = placeAfter\n}\n\n//Execute function for UpdateObjectCommand\nCMD.UpdateObjectCommand.prototype.execute = function()\n{\n  //console.log('update', this.m_objectID, this.m_placeAfter);\n}\n\n//RemoveObjectCommand Class\n/**\n * @constructor\n */\nCMD.RemoveObjectCommand = function(objectID)\n{\n  this.m_objectID = objectID\n}\n\n//Execute function for RemoveObjectCommand\nCMD.RemoveObjectCommand.prototype.execute = function(parentMC)\n{\n  var child\n\n  child = parentMC.getChildById(this.m_objectID)\n  child.el.remove()\n  parentMC.removeChildById(this.m_objectID)\n}\n\n//UpdateVisbilityCommand Class\n/**\n * @constructor\n */\nCMD.UpdateVisibilityCommand = function(objectID,visibility)\n{\n  this.m_objectID = objectID\n  this.m_visibility = visibility\n}\n\n//Execute function for UpdateVisbilityCommand\nCMD.UpdateVisibilityCommand.prototype.execute = function(parentMC)\n{\n  var child,\n    visibleValue\n\n  child = parentMC.getChildById(this.m_objectID)\n  visibleValue = this.m_visibility == 'true' ? 'visible' : 'hidden'\n  child.el.attr({ 'visibility': visibleValue })\n}\n\n/**\n * @constructor\n */\nCMD.UpdateMaskCommand = function (objectID,maskTill)\n{\n  this.m_objectID = objectID\n  this.m_maskTill = maskTill\n}\n\nfunction updateMaskContent(parentMC, child) {\n  var def = child.maskElement,\n    orig = parentMC.getChildById(child.id)\n\n  def.clear()\n\n  const clone = orig.el.clone()\n  clone.attr({ visibility: 'visible' })\n\n  def.append(clone)\n}\n\nCMD.UpdateMaskCommand.prototype.execute = function (parentMC)\n{\n  //console.log('updatemask', this.m_objectID, this.m_maskTill);\n\n  var maskContent,\n    mask,\n    def\n\n  maskContent = parentMC.getChildById(this.m_objectID)\n  maskContent.isMask = true\n  maskContent.maskTill = this.m_maskTill\n\n  mask = parentMC.el.mask()\n  mask.attr('mask-type', 'alpha')\n\n  //use clone to keep element in DOM for placement, just hide\n  const clone = maskContent.el.clone()\n  clone.attr({ visibility: 'visible' })\n\n  def = mask.toDefs()\n  def.append(clone)\n  maskContent.maskElement = def\n\n  maskContent.el.attr({ visibility: 'hidden' })\n}\n\n/**\n * @constructor\n */\nCMD.ApplyMaskCommand = function () {\n\n}\n\n/**\n * create group for mask and add masked content\n */\nCMD.ApplyMaskCommand.prototype.execute = function (parentMC) {\n  var i,\n    insideMask = false,\n    currentMask = null,\n    currentMaskEl = null,\n    currentTill = null,\n    currentMaskGroup\n\n  for (i = 0; i < parentMC.children.length; i += 1) {\n    var child = parentMC.children[i]\n\n    if (child.isMask) {\n      updateMaskContent(parentMC, child) //mask needs to update\n\n      insideMask = true\n      currentMask = child\n      currentMaskEl = child.maskElement\n      currentTill = child.maskTill\n      currentMaskGroup = parentMC.el.g()\n      currentMaskGroup.attr({ 'class': 'maskGroup' })\n      child.el.after(currentMaskGroup)\n      currentMaskGroup.attr({ mask: currentMaskEl })\n\n      GP.addEmpty(currentMaskGroup)\n      GP.addRef(currentMaskEl, [currentMaskGroup])\n\n      if (child.id == child.maskTill) {\n        insideMask = false\n      }\n    } else {\n      if (insideMask) {\n        currentMaskGroup.prepend(child.el)\n        child.isMasked = true\n        child.mask = currentMask.id\n\n        if (child.id == currentTill) {\n          insideMask = false\n          currentMask = null\n          currentTill = null\n        }\n      }\n    }\n  }\n}\n\n/**\n * @constructor\n */\nCMD.UpdateColorTransformCommand = function (objectID, colorMatrix)\n{\n  this.m_objectID = objectID\n  this.m_colorMatrix = colorMatrix\n}\n\nCMD.UpdateColorTransformCommand.prototype.execute = function (parentMC)\n{\n  var child,\n    matrix\n\n  child = parentMC.getChildById(this.m_objectID)\n  matrix = this.m_colorMatrix.split(',', 7)\n  child.el.attr({ opacity: parseFloat(matrix[6]) }) //currently only alpha\n}\n\n/**\n * @constructor\n */\nCMD.AddFrameScriptCommand = function (scriptID, script)\n{\n  this.m_scriptID = scriptID\n  this.m_script = script\n}\n\nCMD.AddFrameScriptCommand.prototype.execute = function (parentMC)\n{\n  parentMC.addFrameScript(this.m_scriptID, this.m_script)\n}\n\n/**\n * @constructor\n */\nCMD.RemoveFrameScriptCommand = function (scriptID)\n{\n  this.m_scriptID = scriptID\n}\n\nCMD.RemoveFrameScriptCommand.prototype.execute = function (parentMC)\n{\n  parentMC.removeFrameScript(this.m_scriptID)\n}\n\n/**\n * @constructor\n */\nCMD.SetFrameLabelCommand = function (name)\n{\n  this.m_labelName = name\n}\n\nCMD.SetFrameLabelCommand.prototype.execute = function (){\n\n}\n\nexport default CMD","import GP from './garbagePool'\nimport CMD from './commands'\nimport ResourceManager from './resourceManager' // eslint-disable-line\n\n/**\n * @implements {_snapsvgAnimator.MovieClip}\n */\nexport default class MovieClip {\n  /**\n   * @param {_snapsvgAnimator.Timeline} commandTimeline\n   * @param {_snap.Paper|!MovieClip} s\n   * @param {ResourceManager} resourceManager\n   * @param {string} objectID\n   * @param {string} [name]\n   * @param {string} [transform]\n   */\n  constructor(commandTimeline, s, resourceManager, objectID, name, transform) {\n    /**\n     * @type {_snap.Paper}\n     */\n    const parentEl = s.type == 'svg' ? s : s.el  // parent is stage if svg\n\n    if (objectID) this.id = objectID\n\n    if (name) this.name = name\n\n    this.el = parentEl.g()\n    this.el.attr({ 'class': 'movieclip', 'token': this.id })\n    this.transform = transform\n\n    this.m_timeline = commandTimeline\n    this.m_currentFrameNo = 0\n    this.m_frameCount = this.m_timeline.frameCount\n\n    this._scripts = {}\n    this._labels = []\n    /**\n     * @type {!Array<!MovieClip>}\n     */\n    this.children = []\n    this.isMask = false\n    this.isMasked = false\n    this.mask = null\n    this.maskElement = null\n    this.maskTill = null\n    this.loops = true\n    this.playing = true\n    this.resourceManager = resourceManager\n    this.commandList = []\n    /**\n     * @type {_snap.Matrix}\n     */\n    this.matrix = new window.Snap.Matrix()\n\n    if (this.m_timeline.Label) {\n      this._labels = this.m_timeline.Label\n    }\n\n    if (this.transform) {\n      const transformArray = this.transform.split(',')\n      this.matrix = new window.Snap.Matrix(...transformArray)\n      this.el.transform(this.matrix)\n    }\n  }\n  addChild(child, placeAfter = 0) {\n    this.insertAtIndex(child, placeAfter)\n  }\n  /**\n   * @param {!MovieClip} child\n   * @param {string} [placeAfter]\n   */\n  _addChild(child, placeAfter) {\n    if (child.name) {\n      /**\n       * @suppress {checkTypes}\n       */\n      this[child.name] = child\n    }\n\n    if (placeAfter && parseInt(placeAfter, 10) !== 0) {\n      const afterMC = this.getChildById(parseInt(placeAfter, 10))\n\n      if (afterMC.isMasked) {  //if masked add outside mask group\n        afterMC.el.parent().before(child.el)\n      } else {\n        afterMC.el.before(child.el)\n      }\n    } else {\n      this.el.add(child.el)\n    }\n  }\n  //manage children methods\n  /**\n   * @param {number| string} id\n   */\n  getChildById(id) {\n    return this.children.find(({ id: i }) => {\n      return i == id\n    })\n  }\n  /**\n   * @param {number} id\n   */\n  getChildIndexById(id) {\n    return this.children.findIndex(({ id: i }) => {\n      return i == id\n    })\n  }\n  /**\n   * @param {number} id\n   */\n  removeChildById(id) {\n    for (let i = 0; i < this.children.length; i += 1) {\n      if (this.children[i].id == id) {\n        this.children.splice(i, 1)\n        return\n      }\n    }\n  }\n  /**\n   * @param {number} id\n   * @param {number} placeAfter\n   */\n  swapChildIndex(id, placeAfter) {\n    var i, child\n\n    for (i = 0; i < this.children.length; i += 1) {\n      if (this.children[i].id == id) {\n        child = this.children.splice(i, 1)\n        break\n      }\n    }\n\n    for (i = 0; i < this.children.length; i += 1) {\n      if (this.children[i].id == placeAfter) {\n        this.children.splice(i + 1, 0, child[0])\n        break\n      }\n    }\n  }\n  insertAtIndex(child, placeAfter) {\n    var i\n\n    this._addChild(child, placeAfter)\n\n    if (parseInt(placeAfter, 10) === 0) {\n      this.children.unshift(child)\n    }\n\n    for (i = 0; i < this.children.length; i += 1) {\n      if (this.children[i].id == placeAfter) {\n        this.children.splice(i + 1, 0, child)\n        break\n      }\n    }\n  }\n  containsMask() {\n    return this.children.some(({ isMask }) => isMask)\n  }\n  getFrameLabels() { return this._labels }\n  getMatrix() {\n    //TODO:: set to newM if exists\n    if (this.matrix) {\n      return this.matrix\n    } else {\n      return new window.Snap.Matrix()\n    }\n  }\n  getX() {\n    let _x = 0\n\n    if (this.matrix) {\n      _x = this.matrix.x()\n    }\n\n    return _x\n  }\n  getY() {\n    let _y = 0\n\n    if (this.matrix) {\n      _y = this.matrix.y()\n    }\n\n    return _y\n  }\n  mouseover(cb) {\n    this.el.mouseover(cb)\n  }\n  mouseout(cb) {\n    this.el.mouseout(cb)\n  }\n  mousedown(cb) {\n    this.el.mousedown(cb)\n  }\n  mousemove(cb) {\n    this.el.mousemove(cb)\n  }\n  click(cb) {\n    this.el.click(cb)\n  }\n  executeFrameScript(script) {\n    eval('(function () {' + script + '}).call(this);')\n  }\n  removeFrameScript(id) {\n    delete this._scripts[id]\n  }\n  addFrameScript(id, script) {\n    this._scripts[id] = script\n  }\n  getFrame(num) {\n    return this.m_timeline.Frame.find(({ num: n }) => n == num)\n  }\n  _checkLoop() {\n    if (this.m_currentFrameNo == this.m_frameCount) {\n      if (!this.loops) return\n      this._loop()\n    }\n  }\n  _loop() {\n    var frame,\n      commands,\n      i,\n      found,\n      type\n\n    this.m_currentFrameNo = 0\n\n    frame = this.getFrame(this.m_currentFrameNo)\n\n    if (!frame) {\n      this.clearChildren()\n      return\n    }\n\n    //Get the commands for the first frame\n    commands = frame.Command\n\n    // Iterate through all the elements in the display list\n    // check if same instance exists in the first frame\n    for (i = 0; i < this.children.length; i += 1) {\n      found = false\n      const child = this.children[i]\n\n      for (let c = 0; c < commands.length; ++c) {\n        const cmdData = commands[c]\n        type = cmdData.cmdType\n\n        if (type == 'Place') {\n          if (parseInt(child.id, 10) == parseInt(cmdData.objectId, 10)) {\n            found = true\n            break\n          }\n        }\n      }\n\n      if (found === false) {\n        const command = new CMD.RemoveObjectCommand(child.id)\n        this.commandList.push(command)\n      }\n    }\n  }\n  clearChildren() {\n    var i,\n      child,\n      command\n\n    for (i = 0; i < this.children.length; i += 1) {\n      child = this.children[i]\n      command = new CMD.RemoveObjectCommand(child.id)\n      this.commandList.push(command)\n    }\n  }\n  _animate() {\n    var i\n\n    if (this.playing !== false) {\n      this.step_1_animTimeline()\n      this.step_2_enterFrame()\n      //this.step_3_addPending();\n      this.step_4_frameConstructed()\n      this.step_5_frameScripts()\n      this.step_6_exitFrame()\n    }\n\n    for(i = 0; i < this.children.length; i += 1)\n    {\n      if (this.children[i]._animate) {\n        this.children[i]._animate()\n      }\n    }\n\n    GP.purge()\n  }\n  /**\n   * @param {Array<_snapsvgAnimator.Command>} commands\n   */\n  _runCommands(commands) {\n    let command\n    for (let c = 0; c < commands.length; c += 1) {\n      const cmdData = commands[c]\n      const type = cmdData.cmdType\n      command = null\n      let found\n\n      switch(type) {\n      case 'Place':\n\n        found = this.getChildById(cmdData.objectId)\n\n        if (!found) {\n          command = new CMD.PlaceObjectCommand(cmdData.charid, cmdData.objectId, cmdData.name, cmdData.placeAfter, cmdData.transformMatrix, cmdData.bounds)\n          this.commandList.push(command)\n        } else {\n          command = new CMD.MoveObjectCommand(cmdData.objectId, cmdData.transformMatrix)\n          this.commandList.push(command)\n          command = new CMD.UpdateObjectCommand(cmdData.objectId, cmdData.placeAfter)\n          this.commandList.push(command)\n        }\n\n        break\n      case 'Move':\n        command = new CMD.MoveObjectCommand(cmdData.objectId, cmdData.transformMatrix)\n        this.commandList.push(command)\n        break\n      case 'Remove':\n        command = new CMD.RemoveObjectCommand(cmdData.objectId)\n        this.commandList.push(command)\n        break\n      case 'UpdateZOrder':\n        command = new CMD.UpdateObjectCommand(cmdData.objectId , cmdData.placeAfter)\n        this.commandList.push(command)\n        break\n      case 'UpdateVisibility':\n        command = new CMD.UpdateVisibilityCommand(cmdData.objectId , cmdData.visibility)\n        this.commandList.push(command)\n        break\n      case 'UpdateColorTransform':\n        command = new CMD.UpdateColorTransformCommand(cmdData.objectId , cmdData.colorMatrix)\n        this.commandList.push(command)\n        break\n      case 'UpdateBlendMode':\n        //  command = new CMD.UpdateBlendMode(cmdData.objectId , cmdData.blendMode);\n        //  this.commandList.push(command);\n        break\n      case 'UpdateMask':\n        command = new CMD.UpdateMaskCommand(cmdData.objectId , cmdData.maskTill)\n        this.commandList.push(command)\n        break\n      case 'AddFrameScript':\n        command = new CMD.AddFrameScriptCommand(cmdData.scriptId, cmdData.script)\n        this.commandList.push(command)\n        break\n      case 'RemoveFrameScript':\n        command = new CMD.RemoveFrameScriptCommand(cmdData.scriptId)\n        this.commandList.push(command)\n        break\n      case 'SetFrameLabel':\n        command = new CMD.SetFrameLabelCommand(cmdData.Name)\n        this.commandList.push(command)\n        break\n      }\n    }\n\n    if (this.containsMask) {\n      command = new CMD.ApplyMaskCommand()\n      this.commandList.push(command)\n    }\n\n    this.executeCommands(this.commandList, this.resourceManager)\n  }\n  //update timeline animations\n  step_1_animTimeline() {\n    if (!this.playing) {\n      return\n    }\n\n    this.commandList = []\n\n    this._checkLoop()\n\n    const frame = this.getFrame(this.m_currentFrameNo)\n    this.m_currentFrameNo++\n\n    if (!frame) {\n      return\n    }\n\n    const commands = frame.Command\n    this._runCommands(commands)\n  }\n  step_2_enterFrame() {\n    //dispatch enter frame event\n    //trigger on children\n  }\n  step_3_addPending() {\n\n  }\n  step_4_frameConstructed() {\n    //dispatch frame constructed event\n    //trigger on children\n  }\n  step_5_frameScripts() {\n    //trigger framescripts\n    //trigger on children\n\n    for (var i in this._scripts) {\n      this.executeFrameScript.call(this, this._scripts[i])\n    }\n  }\n  step_6_exitFrame() {\n    //dispatch exit frame event\n    //trigger on children\n  }\n  play() {\n    this.playing = true\n  }\n  stop() {\n    this.playing = false\n  }\n  gotoAndStop(fr) {\n    this._gotoAndPlayStop(fr, true)\n  }\n  gotoAndPlay(fr) {\n    this._gotoAndPlayStop(fr, false)\n  }\n  _gotoAndPlayStop(frame, bStop) {\n    //TODO::handle labels\n    if (typeof frame === 'string') {\n      var labels = this.getFrameLabels()\n      var bFound = false\n\n      for (var i = labels.length - 1; i >= 0; i--) {\n        if (frame === labels[i].name) {\n          frame = parseInt(labels[i].frameNum, 10) + 1\n          bFound = true\n          break\n        }\n      }\n\n      if (bFound === false) {\n        return\n      }\n    }\n\n    //if frame number is invalid, don't do anything\n    if (frame < 1 || frame > this.m_frameCount) {\n      return\n    }\n\n    // If we are already at the destination frame, don't do anythin\n    if (frame == this.m_currentFrameNo) {\n      if (bStop === false) {\n        this.play()\n      } else {\n        this.stop()\n      }\n      return\n    }\n\n    // First ensure that the timeline is in a good state to start jumping around\n    //this.step_3_addPending(true);\n    this.play()\n\n    // Loop around if necessary\n    if (frame < this.m_currentFrameNo) {\n      var bSeekEnd = (frame == 1)\n      this._loopAround()\n      //this.step_3_addPending(!bSeekEnd);\n    }\n\n    while (this.m_currentFrameNo < frame) {\n      // var bSeekEnd1 = (frame == this.m_currentFrameNo)\n      this.step_1_animTimeline()\n\n      for(var j = 0; j < this.children.length; j += 1)\n      {\n        if (this.children[j].step_1_animTimeline) {\n          this.children[j].step_1_animTimeline()\n        }\n      }\n\n      //this.step_3_addPending(!bSeekEnd);\n    }\n\n    if (bStop === false) {\n      this.play()\n    } else {\n      this.stop()\n    }\n\n    this.step_4_frameConstructed()\n    this.step_5_frameScripts()\n    this.step_6_exitFrame()\n  }\n  _loopAround () {\n    this.commandList = []\n    this._loop()\n    this.m_currentFrameNo = 0\n\n    const frame = this.getFrame(this.m_currentFrameNo)\n\n    if (!frame) {\n      return\n    }\n\n    //Get the commands for the first frame\n    const commands = frame.Command\n    this._runCommands(commands)\n  }\n  executeCommands(commandList, resourceManager) {\n    var i\n    for (i = 0; i < commandList.length ; i++)\n    {\n      if (commandList[i] !== undefined) {\n        commandList[i].execute(this, resourceManager)\n      }\n    }\n  }\n  log() {\n    if (this.id.indexOf('svg') > -1) { // only on main timeline\n      var args = Array.prototype.slice.call(arguments)\n      args.unshift(this.id.toUpperCase())\n      //console.log.apply(console, args);\n    }\n  }\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Timeline} _snapsvgAnimator.Timeline\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Element} _snap.Element\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Paper} _snap.Paper\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Matrix} _snap.Matrix\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Command} _snapsvgAnimator.Command\n */","import MovieClip from './movieclip'\nimport ResourceManager from './resourceManager'\n\nconst CAF = window.cancelAnimationFrame    ||\n  window.webkitCancelAnimationFrame        ||\n  window.webkitCancelRequestAnimationFrame ||\n  window.clearTimeout\n\n/**\n * @implements {_snapsvgAnimator.SVGAnim}\n */\nexport default class SVGAnim {\n  /**\n   * SVGAnim\n   * initialize animation component\n   * @param {_snapsvgAnimator.Data} data The data type.\n   * @param {DOMDocument} data.DOMDocument The DOMDocument.\n   */\n  constructor(data, w = 100, h = 100, fps = 24, params = {}) {\n    this.fps = fps\n    this.then = Date.now()\n    this.af = -1\n    this.data = data\n    // color = '#008460',\n\n    this.version = '1.2.3'\n    // console.log('%c' + msg, 'color:' + color + ';font-weight:bold;');\n\n    const { elementId, element, autoplay = true } = params\n\n    this.playing = autoplay\n    this.debug = false\n\n    if (this.debug) {\n      console.log('%c' + '/*DEBUG*/', 'color:#FF6666;font-weight:bold;')\n      this.playing = false\n      this.autoplay = false\n      window.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    this.resourceManager = new ResourceManager(data)\n\n    //TODO:: RENDERER\n    /**\n     * @type {_snap.Paper}\n     */\n    const s = element ? new window.Snap(element) : elementId ? new window.Snap(elementId) : new window.Snap(w, h)\n    s.attr({ 'id': s.id })\n    s.attr({\n      'viewBox': '0 0 ' + w + ' ' + h,\n      'preserveAspectRatio': 'xMidYMid meet',\n    })\n    this.s = s\n    this.id = s.id\n    //TODO:: set bg color here\n\n    //Set width and height of element if element id given\n    if (elementId) {\n      s.attr({\n        'width': w,\n        'height': h,\n      })\n    }\n\n    this.mc = null\n    this.create(s)\n\n    if (this.debug) {\n      setInterval(() => traceDisplayList(this.mc), 100)\n    }\n\n    if (autoplay) this.play()\n    // else this.interval() // ?\n\n    this.rootAnimator = undefined\n\n    //generate linked movieclips\n    this.linkage = {}\n    this.fpsInterval = 1000 / this.fps\n  }\n  toString() {\n    return 'Snap.svg Animator v' + this.version\n  }\n\n  /**\n   * @param {_snap.Paper} s\n   */\n  create(s) {\n    var maintimelineIndex\n\n    if (this.rootAnimator) {\n      this.rootAnimator.dispose()\n    }\n\n    for (let i = this.data.DOMDocument.Timeline.length - 1; i > -1; i -= 1) {\n      if (this.data.DOMDocument.Timeline[i].linkageName) {\n        this.linkage[this.data.DOMDocument.Timeline[i].linkageName] = this.data.DOMDocument.Timeline[i]\n      } else {\n        maintimelineIndex = i\n        break\n      }\n    }\n\n    const mainTimeline = this.resourceManager.m_data.DOMDocument.Timeline[maintimelineIndex]\n    this.mc = new MovieClip(mainTimeline, s, this.resourceManager, this.id)\n  }\n  /**\n   * @param {!FrameRequestCallback} cb The function to execute.\n   */\n  requestAnimationFrame(cb) {\n    const raf = window.requestAnimationFrame    ||\n      window.webkitRequestAnimationFrame        ||\n      ((c) => window.setTimeout(c, this.fpsInterval))\n    return raf(cb)\n  }\n  /**\n   * @param {number} af Animation frame handle.\n   */\n  cancelAnimationFrame(af) {\n    CAF(af)\n  }\n  play() {\n    this.mc.play()\n    this.playing = true\n    this.interval()\n  }\n  stop() {\n    if (this.mc.m_currentFrameNo == 0) { //force render if called immediately\n      this.mc._animate()\n    }\n\n    this.mc.stop()\n    this.playing = false\n    this.cancelAnimationFrame(this.af)\n  }\n  setLoop(l) {\n    this.mc.loops = l\n  }\n  interval() {\n    this.cancelAnimationFrame(this.af) // fallback for setTimeout\n    this.af = this.requestAnimationFrame(() => {\n      this.interval()\n    })\n    const now = Date.now()\n    const elapsed = now - this.then\n    if (this.playing && elapsed > this.fpsInterval) {\n      this.then = now - (elapsed % this.fpsInterval)\n      this.mc._animate()\n    }\n  }\n  handleKeyDown(e) {\n    switch (e.keyCode) {\n    case 65: //A inc frame by 1\n      this.interval()\n      break\n    case 32: //SPACE toggles playing\n      if (this.mc.playing) {\n        this.stop()\n      } else {\n        this.play()\n      }\n      break\n    }\n  }\n}\n\n/**\n * Debug output for displaylist\n * @param {MovieClip} mc\n */\nfunction traceDisplayList(mc) {\n  var debug = document.getElementById('debug'),\n    str = ''\n\n  if (!debug) {\n    debug = document.createElement('div')\n    debug.id = 'debug'\n    debug.style.position = 'absolute'\n    debug.style.top = '0'\n    debug.style.right = '0'\n    debug.style.backgroundColor = 'black'\n    debug.style.color = 'white'\n    debug.style.padding = '1em'\n\n    document.body.appendChild(debug)\n  }\n\n  function traceChildren(j, el) {\n    var k, i\n\n    for (i = 0; i < el.children.length; i += 1) {\n      for (k = 0; k < j; k += 1) {\n        str += '-'\n      }\n      str += el.children[i].id + ':' + el.children[i].children.length\n\n      if (el.children[i].isMask) {\n        str += ' (MASK till:' + el.children[i].maskTill + ')'\n      }\n\n      if (el.children[i].isMasked) {\n        str += ' (masked by: ' + el.children[i].mask + ')'\n      }\n\n      str += '<br/>'\n      traceChildren(j + 5, el.children[i])\n    }\n  }\n\n  str += mc.id + '<br/>'\n  str += mc.m_currentFrameNo + '<br/>'\n  traceChildren(2, mc)\n\n  debug.innerHTML = str\n}\n\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Data} _snapsvgAnimator.Data\n */\n/**\n * @suppress {nonStandardJsDocs}\n * @typedef {import('../types').Paper} _snap.Paper\n */","import SVGAnim from './'\nimport '../types/externs'\n\nwindow['SVGAnim'] = SVGAnim"],
"names":["$jscomp.arrayIteratorImpl","$jscomp.defineProperty","$jscomp.global","$jscomp.polyfill","GP","GarbagePool","EMPTY_POOL","REF_POOL","Bitmap","parentMC","resourceManager","charId","ObjectId","placeAfter","transform","instance","parentEl","el","create","this.create","g","id","attr","children","isMask","isMasked","mask","maskTill","b","m_data","DOMDocument","Bitmaps","length","charid","bitmap","paper","image","bitmapPath","add","transformArray","split","transformMat","window","Snap","Matrix","$jscomp.arrayFromIterable","parseInt","afterMC","getChildById","parent","before","constructor","ResourceManager","data","m_shapes","m_movieClips","m_bitmaps","m_text","shapeIndex","Shape","shapeData","bitmapIndex","bitmapData","textIndex","Text","textData","undefined","Timeline","movieClipIndex","movieClipData","j","k","path","shape","addPath","resourcePath","d","pathType","fillImage","color","clr","r","substring","colorOpacity","fillColor","img","mat","patternTransform","patternArray","src","exists","select","newPattern","linearGradient","grad","fillGradient","getFillGradient","radialGradient","strokeWidth","type","_x2","parseFloat","x2","_y2","y2","gradientString","_x","x1","_y","y1","getBBox","x","width","cx","y","height","cy","_fx","fx","_fy","fy","i","stop","result","exec","stopColor","stopOpacity","offset","gradient","gradientFill","resourceImg","pattern","e","f","bounds","textAnchor","textBounds","textBox","addText","lineMode","behaviour","textAlign","paras","alignment","fontSize","textRun","style","fontName","fontColor","letterSpacing","textStyles","textBaseline","isBorderDrawn","rect","textRect","stroke","fill","text","txt","textY","bbox","spans","chars","boundsWidth","charAt","tempTxt","newIndex","lastIndexOf","w","substr","slice","push","remove","selectAll","sp","h","linespacing","textX","CMD.PlaceObjectCommand","charID","objectID","name","m_charID","m_objectID","m_name","m_placeAfter","m_transform","m_bounds","CMD$$module$src$commands.PlaceObjectCommand","prototype","execute","CMD.PlaceObjectCommand.prototype.execute","shapeObject","insertAtIndex","bmpObject","textObject","movieclipTimeline","movieclip","MovieClip","play","CMD.MoveObjectCommand","CMD$$module$src$commands.MoveObjectCommand","CMD.MoveObjectCommand.prototype.execute","child","matrix","CMD.UpdateObjectCommand","CMD$$module$src$commands.UpdateObjectCommand","CMD.UpdateObjectCommand.prototype.execute","CMD.RemoveObjectCommand","CMD$$module$src$commands.RemoveObjectCommand","CMD.RemoveObjectCommand.prototype.execute","splice","CMD.UpdateVisibilityCommand","visibility","m_visibility","CMD$$module$src$commands.UpdateVisibilityCommand","CMD.UpdateVisibilityCommand.prototype.execute","visibleValue","CMD.UpdateMaskCommand","m_maskTill","CMD$$module$src$commands.UpdateMaskCommand","CMD.UpdateMaskCommand.prototype.execute","maskContent","clone","def","toDefs","append","maskElement","CMD.ApplyMaskCommand","CMD$$module$src$commands.ApplyMaskCommand","CMD.ApplyMaskCommand.prototype.execute","insideMask","currentMask","currentTill","orig","clear","currentMaskEl","currentMaskGroup","after","GarbagePool.prototype.addRef","refs","prepend","CMD.UpdateColorTransformCommand","colorMatrix","m_colorMatrix","CMD$$module$src$commands.UpdateColorTransformCommand","CMD.UpdateColorTransformCommand.prototype.execute","opacity","CMD.AddFrameScriptCommand","scriptID","script","m_scriptID","m_script","CMD$$module$src$commands.AddFrameScriptCommand","CMD.AddFrameScriptCommand.prototype.execute","_scripts","CMD.RemoveFrameScriptCommand","CMD$$module$src$commands.RemoveFrameScriptCommand","CMD.RemoveFrameScriptCommand.prototype.execute","CMD.SetFrameLabelCommand","CMD$$module$src$commands.SetFrameLabelCommand","CMD.SetFrameLabelCommand.prototype.execute","commandTimeline","s","m_timeline","m_currentFrameNo","m_frameCount","frameCount","_labels","playing","commandList","Label","addChild","?.prototype","find","_addChild","unshift","containsMask","some","getX","getY","mouseover","cb","mouseout","mousedown","mousemove","click","executeFrameScript","eval","getFrame","num","Frame","n","_loop","frame","commands","Command","found","c","cmdData","cmdType","objectId","command","clearChildren","_animate","step_1_animTimeline","step_5_frameScripts","item","removed","_runCommands","transformMatrix","scriptId","executeCommands","_checkLoop","call","gotoAndStop","fr","_gotoAndPlayStop","gotoAndPlay","bStop","labels","getFrameLabels","bFound","frameNum","_loopAround","log","indexOf","Array","args","arguments","toUpperCase","CAF","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","clearTimeout","SVGAnim","fps","params","then","Date","now","af","version","elementId","element","autoplay","mc","linkage","fpsInterval","toString","maintimelineIndex","linkageName","mainTimeline","requestAnimationFrame","webkitRequestAnimationFrame","setTimeout","interval","elapsed"]
}
