{
  "title": "Www.idio.cc",
  "content": "\n\n<div data-section id=\"-idio-web-server\">\n<h1><em>Idio</em> Web Server</h1>\n\n<p><em>Idio</em> is a professional web server based on Koa compiled with Closure Compiler down to 2 dependencies. It is created by Art Decoâ„¢, a <a href=\"https://www.artd.eco\">Node.JS development company in London</a> to enable rapid web development process with maximum efficiency. It has all middleware necessary to make modern full-stack services, including back-end routes and front-end components.</p>\n\n<p>Check out <a href=\"https://github.com/idiocc/idio\">GitHub</a> README and <a href=\"https://github.com/idiocc/idio/wiki\">Wiki</a> for more information.</p>\n\n<p>A bare Koa server consists of 43 dependencies, and when installing all middleware required for an essential web server, this number can go up to 150 and higher. We've completely rewritten Koa, its components and middleware into ES6 to produce <em>Idio</em> &mdash; a state of art webserver, type-checked and optimised with Closure Compiler. We left only 2 dependencies: <span class=\"tm\">mime-db</span> and <span class=\"tm\">text-decoding</span> that contain databases of mime types and encoding tables. This means that the installation time is minimal, and there's absolutely no rubbish in your <span class=\"tm\">node_modules</span> directory.</p>\n\n<span id=\"ceb55\">\n  Please bear one moment while we add more content\n</span>\n\n<p class=\"SectionBreak\">\n  <a title=\"Back To Top\" href=\"#top\">\n    <img alt=\"section break\"\n      src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='15'/%3E\" data-io>\n    <noscript><img alt=\"section break\" src=\"/section-breaks/0.svg\"></noscript></a>\n</p>\n</div>\n\n<div data-section id=\"middleware\">\n<h2>Middleware</h2>\n\n<p>There are a number of middleware functions that were included in the bundle.</p>\n\n<ul>\n  <li><strong>Static</strong>: to serve static files from the server.</li>\n  <li><strong>Session</strong>: to maintain cookes on users' machines that record session information.</li>\n  <li><strong>CORS</strong>: to add the correct Origin header for cross origin requests.</li>\n  <li><strong>Compression</strong>: to make sure that responses are compressed with GZIP algorithm.</li>\n  <li><strong>File Upload</strong>: to handle <em>multipart/form</em> data for file uploads and forms submissions.</li>\n  <li><strong>Front End</strong>: to allow to develop browser applications without any additional build tools (see below).</li>\n</ul>\n\n<p class=\"SectionBreak\">\n  <a title=\"Back To Top\" href=\"#top\">\n    <img alt=\"section break\"\n      src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='13'/%3E\" data-io>\n    <noscript><img alt=\"section break\" src=\"/section-breaks/1.svg\"></noscript></a>\n</p>\n</div>\n\n<div data-section id=\"router\">\n<h2>Router</h2>\n\n<p>The router is one of the most important parts of the server, that allows you to specify which pages are served at which paths, as well as configuring middleware for routes as well as subroutes, therefore <em>Idio</em> simply returns its instance when you start a server.</p>\n\n<pre id=\"ccdbf3\"><code class=\"javascript hljs\">import idio, { Router } from '@idio/idio'\n\n(async () =&gt; {\n  const {\n    url, router, app, middleware: { pre, post, jsonBody },\n  } = await idio({\n    // 1. Configure middlewares without installing them.\n    jsonBody: {},\n    jsonErros: {},\n  })\n\n  // 2. Setup API router.\n  const api = new Router()\n  api.post('/example',\n    jsonErrors, // send errors as json\n    jsonBody,   // parse incoming body\n    (ctx) =&gt; {\n      ctx.body = {\n        ok: true,\n        request: ctx.request.body,\n      }\n    },\n  )\n  // 3. Configure main router.\n  router.use('/api', api.routes())\n  router.get('/', (ctx) =&gt; {\n    ctx.body = 'hello world'\n  })\n  app.use(router.routes())\n  return url\n})()</code></pre>\n\n<p class=\"SectionBreak\">\n  <a title=\"Back To Top\" href=\"#top\">\n    <img alt=\"section break\"\n      src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='13'/%3E\" data-io>\n    <noscript><img alt=\"section break\" src=\"/section-breaks/2.svg\"></noscript></a>\n</p>\n</div>\n\n<div data-section id=\"front-end\">\n<h2>Front End</h2>\n\n<p>With Idio, developing front-end is very easy, because of the <strong>front-end</strong> middleware that can serve <span class=\"tm\">node_modules</span>, update JSX on-the-fly and provide hot reload for ES6 modules. You can simply create you client applications using the latest browser, and then compile them for production with Closure, that will change the code into ES5 understandable by older browsers. Check out this article: <a href=\"https://art-deco.github.io/nodetools/web-development-with-nodetools.html\">\n  Web Development With NodeTools</a>.</p>\n\n<p>Front end makes simply makes sure that JS files you've written for the browser can be accessed via the server. Because modern browsers understand latest language features as well as import statements, there's no need to create bulky set ups and complex build processes that you can't even understand. All that is happening, is that JS you wrote, is served to the browser with a few adjustments like renaming package into into their resolved paths. As simple as that.</p>\n\n<pre id=\"ccdbf\"><code class=\"javascript hljs\">// src:\nimport fetch from 'unfetch'\n// becomes:\nimport fetch from '/node_modules/unfetch/src/unfetch.mjs'\n\nfetch('/hello.txt')</code></pre>\n\n<p>Front End supports JSX syntax also so that <em>Preact</em> applications can be developed easily. There's also hot reload that will re-render the interface when the source code of components (both classes and stateless) changes, preserving their state. Consult <a href=\"/articles/pure-hot-reload.html\">Pure Hot Reload</a> to understand how our simple HR works.</p>\n\n<pre id=\"ccdbf1\"><code class=\"javascript hljs\">import { render, Component } from 'preact'\n\nclass App extends Component {\n  render() {\n    return (&lt;div&gt;Hello World!&lt;/div&gt;)\n  }\n}\n\nconst app = &lt;App /&gt;\nconst a = render(app, window.container)\n\n/* IDIO HOT RELOAD */\nwindow['idioAddHotReload'] &amp;&amp; window['idioAddHotReload'](() =&gt; {\n  render(app, window.container, a)\n})</code></pre>\n\n<p>Such applications can then be compiled with Closure and served as static bundles either from CDN, or the server itself.</p>\n\n<p>\n  <a href=\"https://github.com/idiocc/idio/wiki/Front-End\">READ WIKI</a>\n</p>\n\n<p class=\"SectionBreak\">\n  <a title=\"Back To Top\" href=\"#top\">\n    <img alt=\"section break\"\n      src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='9'/%3E\" data-io>\n    <noscript><img alt=\"section break\" src=\"/section-breaks/3.svg\"></noscript></a>\n</p>\n</div>\n\n<div data-section id=\"server-side-rendering\">\n<h2>Server-Side Rendering</h2>\n\n<p>We believe that JSX is an essential part of JavaScript for web development. It's the most natural approach to programming for the web that requires templating. JSX is so good because it's JavaScript that can be used for marking up HTML code, and not some static HTML with parts that indicate dynamic content (e.g., like Handlebars). There's no better way to create dynamic web pages in Node.JS than with JSX, and <em>Idio</em> acknowledges that by providing a method to render JSX components.</p>\n\n<pre id=\"ccdbf2\"><code class=\"javascript hljs\">import { render } from '@idio/idio'\n\n/**\n * @type {import('@idio/idio').Middleware}\n */\nexport default function route(ctx) {\n  ctx.body = render(&lt;html&gt;\n    &lt;body&gt;\n      &lt;h1&gt;Hello World!&lt;/h1&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;)\n}</code></pre>\n\n<p>Behind the scenes, SSR is using Preact 8 for rendering, so you need to install <span class=\"tm2\">preact@8.5.3</span>. The latest version of Preact is 10, however the API for static rendering is not compatible yet.</p>\n\n<p class=\"SectionBreak\">\n  <a title=\"Back To Top\" href=\"#top\">\n    <img alt=\"section break\"\n      src=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='9'/%3E\" data-io>\n    <noscript><img alt=\"section break\" src=\"/section-breaks/4.svg\"></noscript></a>\n</p>\n</div>",
  "file": "index",
  "postAjax": "(function imgPostAjax() {\n  /* eslint-env browser */\n  window['IO']()\n  window['WEBP']()\n})()"
}